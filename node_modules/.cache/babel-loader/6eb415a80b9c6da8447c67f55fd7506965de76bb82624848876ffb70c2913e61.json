{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import'../cssfile/Shop.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Shop(){const[products,setProducts]=useState([]);const[selectedCategory,setSelectedCategory]=useState('');const[isLoading,setIsLoading]=useState(false);const[sortOrder,setSortOrder]=useState('');const fetchProducts=async function(){let category=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let sortOrder=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';setIsLoading(true);let url='http://localhost:8080/api/products';// 카테고리와 정렬 기준에 따라 URL을 변경\nif(category||sortOrder){url+='?';if(category){url+=`category=${category}`;}if(sortOrder){url+=`${category?'&':''}sortOrder=${sortOrder}`;}}else{url='/api/products/all';}try{const response=await fetch(url);const data=await response.json();if(Array.isArray(data)){setProducts(data);}else{console.error('응답 데이터가 배열이 아닙니다:',data);setProducts([]);}}catch(error){console.error('제품 데이터 로딩 실패:',error);setProducts([]);}finally{setIsLoading(false);}};useEffect(()=>{fetchProducts(selectedCategory,sortOrder);},[selectedCategory,sortOrder]);const formatPrice=price=>{return new Intl.NumberFormat().format(price);// 가격에 천 단위 구분 기호 추가\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-bar\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC81C\\uCCA0 \\uC74C\\uC2DD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-links\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setSelectedCategory('');setSortOrder('');},children:\"\\uC804\\uCCB4\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSelectedCategory('봄'),children:\"\\uBD04\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSelectedCategory('여름'),children:\"\\uC5EC\\uB984\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSelectedCategory('가을'),children:\"\\uAC00\\uC744\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSelectedCategory('겨울'),children:\"\\uACA8\\uC6B8\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-options\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uAC80\\uC0C9 \\uC635\\uC158\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-links\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSortOrder('lowToHigh'),children:\"\\uAC00\\uACA9 \\uB0AE\\uC740 \\uC21C\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSortOrder('highToLow'),children:\"\\uAC00\\uACA9 \\uB192\\uC740 \\uC21C\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSortOrder('latest'),children:\"\\uCD5C\\uC2E0 \\uC0C1\\uD488\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setSortOrder('sale'),children:\"\\uC138\\uC77C \\uD488\\uBAA9\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"shop-space\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uB529 \\uC911...\"}):products&&Array.isArray(products)&&products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-item\",children:[/*#__PURE__*/_jsx(Link,{to:`/product/${product.productid}`,children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.productnum,className:\"product-image\"})}),/*#__PURE__*/_jsx(\"p\",{children:product.content}),\"  \",/*#__PURE__*/_jsxs(\"h3\",{children:[formatPrice(product.price),\" \\uC6D0\"]}),\"  \"]},product.productid))})]});}export default Shop;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","Shop","products","setProducts","selectedCategory","setSelectedCategory","isLoading","setIsLoading","sortOrder","setSortOrder","fetchProducts","category","arguments","length","undefined","url","response","fetch","data","json","Array","isArray","console","error","formatPrice","price","Intl","NumberFormat","format","className","children","onClick","map","product","to","productid","src","imageUrl","alt","productnum","content"],"sources":["C:/Users/USER/Desktop/마지막 발표자료/homereactCategory/src/components/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../cssfile/Shop.css';\r\n\r\nfunction Shop() {\r\n  const [products, setProducts] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [sortOrder, setSortOrder] = useState('');\r\n\r\n  const fetchProducts = async (category = '', sortOrder = '') => {\r\n    setIsLoading(true);\r\n    let url = 'http://localhost:8080/api/products';\r\n\r\n    // 카테고리와 정렬 기준에 따라 URL을 변경\r\n    if (category || sortOrder) {\r\n      url += '?';\r\n      if (category) {\r\n        url += `category=${category}`;\r\n      }\r\n      if (sortOrder) {\r\n        url += `${category ? '&' : ''}sortOrder=${sortOrder}`;\r\n      }\r\n    } else {\r\n      url = '/api/products/all';\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      if (Array.isArray(data)) {\r\n        setProducts(data);\r\n      } else {\r\n        console.error('응답 데이터가 배열이 아닙니다:', data);\r\n        setProducts([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('제품 데이터 로딩 실패:', error);\r\n      setProducts([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts(selectedCategory, sortOrder);\r\n  }, [selectedCategory, sortOrder]);\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat().format(price);  // 가격에 천 단위 구분 기호 추가\r\n  };\r\n\r\n  return (\r\n    <div className=\"shop-content\">\r\n      {/* 카테고리 영역 */}\r\n      <div className=\"category-bar\">\r\n        <h2>제철 음식</h2>\r\n        <div className=\"category-links\">\r\n          <span onClick={() => { setSelectedCategory(''); setSortOrder(''); }}>전체보기</span>\r\n          <span onClick={() => setSelectedCategory('봄')}>봄</span>\r\n          <span onClick={() => setSelectedCategory('여름')}>여름</span>\r\n          <span onClick={() => setSelectedCategory('가을')}>가을</span>\r\n          <span onClick={() => setSelectedCategory('겨울')}>겨울</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 검색 옵션 영역 */}\r\n      <div className=\"search-options\">\r\n        <h3>검색 옵션</h3>\r\n        <div className=\"category-links\">\r\n          <span onClick={() => setSortOrder('lowToHigh')}>가격 낮은 순</span>\r\n          <span onClick={() => setSortOrder('highToLow')}>가격 높은 순</span>\r\n          <span onClick={() => setSortOrder('latest')}>최신 상품</span>\r\n          <span onClick={() => setSortOrder('sale')}>세일 품목</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 제품 목록 */}\r\n      <div className=\"shop-space\">\r\n        {isLoading ? (\r\n          <p>로딩 중...</p>\r\n        ) : (\r\n          products && Array.isArray(products) && products.map((product) => (\r\n            <div className=\"space-item\" key={product.productid}>\r\n              <Link to={`/product/${product.productid}`}>\r\n                <img src={product.imageUrl} alt={product.productnum} className=\"product-image\" />\r\n              </Link>\r\n              <p>{product.content}</p>  {/* 제품 설명 표시 */}\r\n              <h3>{formatPrice(product.price)} 원</h3>  {/* 가격에 포맷 적용 */}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}