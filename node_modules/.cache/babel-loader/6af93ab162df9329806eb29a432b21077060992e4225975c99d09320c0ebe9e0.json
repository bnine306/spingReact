{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../cssfile/ProductInput.css';// 스타일을 임포트\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductInput(){const[productnum,setProductnum]=useState('');const[arrivaldate,setArrivaldate]=useState('');const[price,setPrice]=useState('');const[category,setCategory]=useState('');const[imageurl,setImageurl]=useState(null);const[content,setContent]=useState('');// 상품 설명 상태\nconst[error,setError]=useState('');const[showCategoryOptions,setShowCategoryOptions]=useState(false);const navigate=useNavigate();// 폼 제출\nconst handleSubmit=async e=>{e.preventDefault();if(!productnum||!arrivaldate||!price||!category||!imageurl||!content){setError('입력 값을 비우지 마세요.');return;}const formData=new FormData();formData.append('productnum',productnum);formData.append('arrivaldate',arrivaldate);formData.append('price',price);formData.append('category',category);formData.append('image',imageurl);// 여기를 'image'로 수정\nformData.append('content',content);// 상품 설명 추가\nformData.forEach((value,key)=>{console.log(`${key}:`,value);});try{console.log('FormData:',formData);const response=await fetch('/api/productinput',{method:'POST',body:formData});if(!response.ok){throw new Error('상품 추가 실패');}const data=await response.json();console.log('상품 추가 완료',data);// 상품 추가 성공 시 얼럿 표시\nalert('상품이 성공적으로 추가되었습니다!');navigate('/productinput');// 상품 추가 후 페이지 이동\n}catch(error){console.error('Error:',error);setError('상품 추가 중 오류 발생');}};// 이미지 파일 선택 시 상태 업데이트\nconst handleImageChange=e=>{const file=e.target.files[0];if(file){setImageurl(file);console.log('선택된 파일:',file);}};// 카테고리 선택\nconst handleCategorySelect=selectedCategory=>{setCategory(selectedCategory);setShowCategoryOptions(false);// 선택 후 옵션 목록 숨기기\n};// 홈으로 가는 버튼 클릭 핸들러\nconst goHome=()=>{navigate('/');// 홈 페이지로 이동\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-input-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-container\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC0C1\\uD488 \\uB4F1\\uB85D\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`category-button ${category?'selected':''}`,onClick:()=>setShowCategoryOptions(!showCategoryOptions),children:category||'카테고리 선택'}),showCategoryOptions&&/*#__PURE__*/_jsx(\"ul\",{className:\"category-dropdown category-list\",children:['봄','여름','가을','겨울'].map(cat=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleCategorySelect(cat),className:category===cat?'selected':'',children:cat},cat))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:productnum,onChange:e=>setProductnum(e.target.value),placeholder:\"\\uC81C\\uD488 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:arrivaldate,onChange:e=>setArrivaldate(e.target.value),placeholder:\"\\uC785\\uACE0\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:price,onChange:e=>setPrice(e.target.value),placeholder:\"\\uAC00\\uACA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),placeholder:\"\\uC0C1\\uD488 \\uC124\\uBA85\",rows:\"4\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uB4F1\\uB85D\\uD558\\uAE30\"})]})]});}export default ProductInput;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductInput","productnum","setProductnum","arrivaldate","setArrivaldate","price","setPrice","category","setCategory","imageurl","setImageurl","content","setContent","error","setError","showCategoryOptions","setShowCategoryOptions","navigate","handleSubmit","e","preventDefault","formData","FormData","append","forEach","value","key","console","log","response","fetch","method","body","ok","Error","data","json","alert","handleImageChange","file","target","files","handleCategorySelect","selectedCategory","goHome","className","children","onSubmit","type","onClick","map","cat","onChange","placeholder","rows"],"sources":["C:/Users/USER/Desktop/마지막 발표자료/homereactCategory/src/components/ProductInput.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../cssfile/ProductInput.css';  // 스타일을 임포트\r\n\r\nfunction ProductInput() {\r\n    const [productnum, setProductnum] = useState('');\r\n    const [arrivaldate, setArrivaldate] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const [imageurl, setImageurl] = useState(null);\r\n    const [content, setContent] = useState(''); // 상품 설명 상태\r\n    const [error, setError] = useState('');\r\n    const [showCategoryOptions, setShowCategoryOptions] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    // 폼 제출\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!productnum || !arrivaldate || !price || !category || !imageurl || !content) {\r\n            setError('입력 값을 비우지 마세요.');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('productnum', productnum);\r\n        formData.append('arrivaldate', arrivaldate);\r\n        formData.append('price', price);\r\n        formData.append('category', category);\r\n        formData.append('image', imageurl); // 여기를 'image'로 수정\r\n        formData.append('content', content); // 상품 설명 추가\r\n\r\n        formData.forEach((value, key) => {\r\n            console.log(`${key}:`, value);\r\n        });\r\n\r\n        try {\r\n            console.log('FormData:', formData);\r\n            const response = await fetch('/api/productinput', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('상품 추가 실패');\r\n            }\r\n\r\n            const data = await response.json();\r\n            console.log('상품 추가 완료', data);\r\n\r\n            // 상품 추가 성공 시 얼럿 표시\r\n            alert('상품이 성공적으로 추가되었습니다!');\r\n            navigate('/productinput'); // 상품 추가 후 페이지 이동\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            setError('상품 추가 중 오류 발생');\r\n        }\r\n    };\r\n\r\n    // 이미지 파일 선택 시 상태 업데이트\r\n    const handleImageChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            setImageurl(file);\r\n            console.log('선택된 파일:', file);\r\n        }\r\n    };\r\n\r\n    // 카테고리 선택\r\n    const handleCategorySelect = (selectedCategory) => {\r\n        setCategory(selectedCategory);\r\n        setShowCategoryOptions(false); // 선택 후 옵션 목록 숨기기\r\n    };\r\n\r\n    // 홈으로 가는 버튼 클릭 핸들러\r\n    const goHome = () => {\r\n        navigate('/');  // 홈 페이지로 이동\r\n    };\r\n\r\n    return (\r\n        <div className=\"product-input-container\">\r\n            <div className=\"header-container\">\r\n                <h2>상품 등록</h2>\r\n            </div>\r\n            <form onSubmit={handleSubmit} className=\"product-form\">\r\n                {/* 카테고리 선택 드롭다운 */}\r\n                <div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`category-button ${category ? 'selected' : ''}`}\r\n                        onClick={() => setShowCategoryOptions(!showCategoryOptions)}\r\n                    >\r\n                        {category || '카테고리 선택'}\r\n                    </button>\r\n                    {showCategoryOptions && (\r\n                        <ul className=\"category-dropdown category-list\">\r\n                            {['봄', '여름', '가을', '겨울'].map((cat) => (\r\n                                <li\r\n                                    key={cat}\r\n                                    onClick={() => handleCategorySelect(cat)}\r\n                                    className={category === cat ? 'selected' : ''}\r\n                                >\r\n                                    {cat}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    value={productnum}\r\n                    onChange={(e) => setProductnum(e.target.value)}\r\n                    placeholder=\"제품 번호\"\r\n                />\r\n                <input\r\n                    type=\"date\"\r\n                    value={arrivaldate}\r\n                    onChange={(e) => setArrivaldate(e.target.value)}\r\n                    placeholder=\"입고일\"\r\n                />\r\n                <input\r\n                    type=\"number\"\r\n                    value={price}\r\n                    onChange={(e) => setPrice(e.target.value)}\r\n                    placeholder=\"가격\"\r\n                />\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={handleImageChange}\r\n                />\r\n                <textarea\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    placeholder=\"상품 설명\"\r\n                    rows=\"4\"\r\n                />\r\n                {error && <p className=\"error\">{error}</p>}\r\n                <button type=\"submit\">등록하기</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}